## 1. 设计和规划
- [x] 1.1 分析当前iframe检测逻辑的API接口
- [x] 1.2 设计新的openKey集成架构
- [x] 1.3 定义新的数据接口和类型

## 2. 核心功能实现
- [x] 2.1 扩展openKey.ts工具，添加URL参数替换功能
- [x] 2.2 重构useIframeDetector.ts，移除sessionStorage逻辑
- [x] 2.3 实现openKey获取和URL参数替换逻辑
- [x] 2.4 更新IframeInfo接口和相关类型定义

## 3. 错误处理和用户体验
- [x] 3.1 添加openKey API调用失败的处理逻辑
- [x] 3.2 实现适当的错误提示和状态反馈
- [x] 3.3 确保向后兼容性和降级处理

## 4. 测试和验证
- [x] 4.1 测试openKey API集成功能
- [x] 4.2 验证URL参数替换的正确性
- [x] 4.3 测试各种错误场景的处理
- [x] 4.4 验证用户界面交互的流畅性

## 5. 文档和清理
- [x] 5.1 更新相关代码注释和文档
- [x] 5.2 清理不再需要的sessionStorage相关代码
- [x] 5.3 验证整体功能完整性
